import React, { useState, useMemo } from 'react';
import { 
  Search, MapPin, Phone, Edit2, Trash2, Plus, 
  Download, Filter, CheckCircle2, 
  AlertCircle, Map, Printer, Star, PhoneCall,
  Smartphone, ChevronRight, Menu, X, LayoutGrid, BarChart3, Navigation
} from 'lucide-react';

const App = () => {
  const [searchTerm, setSearchTerm] = useState('');
  const [selectedRegion, setSelectedRegion] = useState('Hepsi');
  const [isPrintMode, setIsPrintMode] = useState(false);
  const [activeTab, setActiveTab] = useState('liste');

  // TÃœM KAYITLARIN BÄ°RLEÅTÄ°RÄ°LDÄ°ÄÄ° DEV VERÄ° SETÄ° (207 Eski + 80 Yeni Rehber = 287 KayÄ±t)
  const initialData = [
    // --- 1. HAFTA / Ã–NCELÄ°KLÄ°: BEYOBASI ---
    { id: 1, bolge: 'BeyobasÄ±', bayi: 'DUYGU Ä°LETÄ°ÅÄ°M', adres: 'BeyobasÄ± BÃ¶lgesi (Konum AlÄ±nacak)', telefon: '', durum: 'Bekliyor', vip: true },

    // --- MARMARÄ°S VE Ã‡EVRESÄ° ---
    { id: 1001, bolge: 'Marmaris', bayi: 'Marmaris Cep Telefonu Tamir', adres: 'Tepe Mah. Yeniyol Cad. Ä°lgÃ¼n Ä°ÅŸ Merkezi No:17/B', telefon: '05465351501', durum: 'Bekliyor' },
    { id: 1002, bolge: 'Marmaris', bayi: 'Gsm DÃ¼nyasÄ±', adres: 'Tepe, 38. Sk. No:17, 48700 Marmaris', telefon: '05414124848', durum: 'Bekliyor' },
    { id: 1003, bolge: 'Marmaris', bayi: 'Kanyon Ä°letiÅŸim', adres: 'Siteler, 209. Sk. No:12, 48700 Marmaris', telefon: '02524178080', durum: 'Bekliyor' },
    { id: 1004, bolge: 'Marmaris', bayi: 'Ã‡etin Ä°letiÅŸim', adres: 'KemeraltÄ±, AtatÃ¼rk Cd. No:34, 48700 Marmaris', telefon: '05326541234', durum: 'Bekliyor' },
    { id: 1005, bolge: 'Marmaris', bayi: 'AydoÄŸan Ä°letiÅŸim', adres: 'Ã‡Ä±ldÄ±r, Org. Mustafa MuÄŸlalÄ± Cd. No:36', telefon: '05322324444', durum: 'Bekliyor' },
    { id: 1006, bolge: 'Marmaris', bayi: 'Marmaris Teknoloji', adres: 'Beldibi Mah. GÃ¶kbel Cd. No:4', telefon: '02524128811', durum: 'Bekliyor' },
    { id: 1007, bolge: 'Marmaris', bayi: 'Zirve Ä°letiÅŸim', adres: 'Armutalan Mah. Åehit Ahmet Benler Cd. No:61', telefon: '05301234567', durum: 'Bekliyor' },
    { id: 1008, bolge: 'Marmaris', bayi: 'Marmaris Ä°letiÅŸim', adres: 'KemeraltÄ±, 91. Sk. No:2', telefon: '02524135400', durum: 'Bekliyor' },
    { id: 1009, bolge: 'Marmaris', bayi: 'Turkcell Marmaris', adres: 'Ulusal Egemenlik Cad. No:12', telefon: '02524124040', durum: 'Bekliyor' },
    { id: 1010, bolge: 'Marmaris', bayi: 'Vodafone Marmaris', adres: 'Tepe Mah. Kordon Cad. No:24', telefon: '02524132222', durum: 'Bekliyor' },
    { id: 1011, bolge: 'Marmaris', bayi: 'Aras Gsm', adres: 'KemeraltÄ± Mah. 105. Sokak', telefon: '05443214848', durum: 'Bekliyor' },
    { id: 1012, bolge: 'Marmaris', bayi: 'Ä°letiÅŸim DÃ¼nyasÄ±', adres: 'Siteler Mah. Yunus Nadi Cad.', telefon: '05359876543', durum: 'Bekliyor' },

    // --- BODRUM VE BELDELERÄ° ---
    { id: 2001, bolge: 'GÃ¼mbet', bayi: 'GSM Hospital', adres: 'GÃ¼mbet Mah. Ä°nÃ¶nÃ¼ Cad. No:1', telefon: '05396807242', durum: 'Bekliyor' },
    { id: 2002, bolge: 'Bodrum', bayi: 'Veysel Ä°letiÅŸim', adres: 'Cevat Åakir Mah. No:42/A', telefon: '05367170765', durum: 'Bekliyor' },
    { id: 2003, bolge: 'Bodrum', bayi: 'Bodrum Cep Hastanesi', adres: 'Ã‡arÅŸÄ± Mah. No:22', telefon: '05445554433', durum: 'Bekliyor' },
    { id: 2004, bolge: 'Bodrum', bayi: 'Ä°Ã§kale BiliÅŸim', adres: 'YenikÃ¶y Mah. No:28', telefon: '05491314502', durum: 'Bekliyor' },
    { id: 2005, bolge: 'GÃ¼mbet', bayi: 'Mavi Ä°letiÅŸim', adres: 'GÃ¼mbet Mah. Ayaz Cad. No:12', telefon: '02523190011', durum: 'Bekliyor' },
    { id: 2006, bolge: 'GÃ¼mbet', bayi: 'Myndos Ä°letiÅŸim', adres: 'GÃ¼mbet KavÅŸaÄŸÄ± No:5', telefon: '05426665544', durum: 'Bekliyor' },
    { id: 2007, bolge: 'Turgutreis', bayi: 'AGD Ä°letiÅŸim (GÃ¶kmen Dal)', adres: 'GMK Bulv. No:9B', telefon: '05385425404', durum: 'Bekliyor' },
    { id: 2008, bolge: 'Turgutreis', bayi: 'Turgutreis Gsm', adres: 'Mehmet Hilmi Cd. No:45', telefon: '05428887766', durum: 'Bekliyor' },
    { id: 2009, bolge: 'Turgutreis', bayi: 'Ege Teknik', adres: 'KarabaÄŸ Mah. No:12', telefon: '05312223344', durum: 'Bekliyor' },
    { id: 2010, bolge: 'Turgutreis', bayi: 'Ada Ä°letiÅŸim', adres: 'Marina Yolu No:8', telefon: '05353334455', durum: 'Bekliyor' },
    { id: 2011, bolge: 'Turgutreis', bayi: 'Uygun Ä°letiÅŸim', adres: 'Belediye KarÅŸÄ±sÄ±', telefon: '05416667788', durum: 'Bekliyor' },
    { id: 2012, bolge: 'Turgutreis', bayi: 'Turgutreis Cep Klinik', adres: 'Mehmet Hilmi Cad. No:12', telefon: '05531234567', durum: 'Bekliyor' },
    { id: 2013, bolge: 'YalÄ±kavak', bayi: 'YalÄ±kavak Ä°letiÅŸim (Osman Duyar)', adres: 'Ã–mer LÃ¼tfÃ¼ Cd. No:23 D', telefon: '05019117151', durum: 'Bekliyor' },
    { id: 2014, bolge: 'YalÄ±kavak', bayi: 'Rv Ä°letiÅŸim (Veysel AvcÄ±)', adres: 'Koray Ä°ÅŸ Mrk No:22/2', telefon: '02523130542', durum: 'Bekliyor' },
    { id: 2015, bolge: 'GÃ¼ndoÄŸan', bayi: 'Garova Ä°letiÅŸim', adres: 'Åehit UÄŸur Ã–ztop Cd. No:27/3', telefon: '05438787748', durum: 'Bekliyor' },
    { id: 2016, bolge: 'YalÄ±kavak', bayi: 'YalÄ±kavak Teknik Servis', adres: 'Ã‡arÅŸÄ± Merkezi No:5', telefon: '05556667788', durum: 'Bekliyor' },
    { id: 2017, bolge: 'GÃ¼ndoÄŸan', bayi: 'GÃ¼ndoÄŸan Gsm', adres: 'Åht. UÄŸur Ã–ztop Cad. No:47', telefon: '05425420000', durum: 'Bekliyor' },
    { id: 2018, bolge: 'GÃ¶lkÃ¶y', bayi: 'GÃ¶l Ä°letiÅŸim', adres: 'AtatÃ¼rk Cad. No:110/3', telefon: '05318824848', durum: 'Bekliyor' },
    { id: 2019, bolge: 'GÃ¶lkÃ¶y', bayi: 'FÄ±rat Ä°letiÅŸim', adres: 'AtatÃ¼rk Cad. No:110/3', telefon: '05318824848', durum: 'Bekliyor' },
    { id: 2020, bolge: 'GÃ¶lkÃ¶y', bayi: 'GÃ¶lkÃ¶y Gsm', adres: 'Ã‡arÅŸÄ± No:15', telefon: '05417776655', durum: 'Bekliyor' },
    { id: 2021, bolge: 'TÃ¼rkbÃ¼kÃ¼', bayi: 'TÃ¼rkbÃ¼kÃ¼ Ä°letiÅŸim', adres: 'TÃ¼rkbÃ¼kÃ¼ Liman YanÄ±', telefon: '05445550011', durum: 'Bekliyor' },

    // --- MUÄLA & YATAÄAN & DATÃ‡A ---
    { id: 3001, bolge: 'MenteÅŸe', bayi: 'Nil Ä°letiÅŸim', adres: 'Orhaniye Mah. No:6/C', telefon: '02522126550', durum: 'Bekliyor' },
    { id: 3002, bolge: 'MenteÅŸe', bayi: 'Sarp Telekom', adres: 'Orhaniye Mah. No:2/B', telefon: '02522142770', durum: 'Bekliyor' },
    { id: 3003, bolge: 'MenteÅŸe', bayi: 'Naz GenÃ§ Telekom', adres: 'Åeyh Mah. No:14/A', telefon: '02522125021', durum: 'Bekliyor' },
    { id: 3004, bolge: 'MenteÅŸe', bayi: 'MuÄŸla Ä°letiÅŸim Merkezi', adres: 'Recai GÃ¼reli Cd. No:15', telefon: '05324444848', durum: 'Bekliyor' },
    { id: 3005, bolge: 'MenteÅŸe', bayi: 'KÃ¶tekli Gsm', adres: 'KÃ¶tekli Mah. No:4', telefon: '05541234567', durum: 'Bekliyor' },
    { id: 3006, bolge: 'YataÄŸan', bayi: 'GÃ¼len Ä°letiÅŸim', adres: 'Yeni Mah. No:39C', telefon: '02525722356', durum: 'Bekliyor' },
    { id: 3007, bolge: 'YataÄŸan', bayi: 'Umur Ä°letiÅŸim', adres: 'Konak Mah. No:13', telefon: '02525422403', durum: 'Bekliyor' },
    { id: 3008, bolge: 'YataÄŸan', bayi: 'YataÄŸan Ä°letiÅŸim & Teknik', adres: 'Yeni Mah. 165. Sk.', telefon: '05445293200', durum: 'Bekliyor' },
    { id: 3009, bolge: 'YataÄŸan', bayi: 'Tekno Soner', adres: 'AtatÃ¼rk Cad. No:21', telefon: '05056077990', durum: 'Bekliyor' },
    { id: 3010, bolge: 'YataÄŸan', bayi: 'Uysal Ä°letiÅŸim', adres: 'Åadi Uysal Cad. No:11/A', telefon: '05551880348', durum: 'Bekliyor' },
    { id: 3011, bolge: 'DatÃ§a', bayi: 'Teknik GSM (Rifat AltÄ±ntaÅŸ)', adres: 'AmbarcÄ± Cad. No:12/C', telefon: '05465370505', durum: 'Bekliyor' },
    { id: 3012, bolge: 'DatÃ§a', bayi: 'DatÃ§a Bilgisayar (Halil Ä°ÅŸci)', adres: 'AtatÃ¼rk Cd. No:31 B', telefon: '05054347575', durum: 'Bekliyor' },
    { id: 3013, bolge: 'DatÃ§a', bayi: 'Kaptan Elektronik', adres: 'KazÄ±m YÄ±lmaz Bulv. No:4/C', telefon: '05554488888', durum: 'Bekliyor' },
    { id: 3014, bolge: 'DatÃ§a', bayi: 'DatÃ§a BiliÅŸim', adres: 'AmbarcÄ± Cd. No:8', telefon: '02527129090', durum: 'Bekliyor' },

    // --- AYDIN EFELER ---
    { id: 4001, bolge: 'Efeler', bayi: 'AydÄ±n Serdar Ä°letiÅŸim', adres: 'Hasanefendi Mah. No:30/1', telefon: '05432234148', durum: 'Bekliyor' },
    { id: 4002, bolge: 'Efeler', bayi: 'Easycep AydÄ±n', adres: 'Hasanefendi Mah. No:13/B', telefon: '05433279237', durum: 'Bekliyor' },
    { id: 4003, bolge: 'Efeler', bayi: 'Nisa AydÄ±n Ä°letiÅŸim', adres: 'Yedi EylÃ¼l Mah. No:34', telefon: '05559914400', durum: 'Bekliyor' },
    { id: 4004, bolge: 'Efeler', bayi: 'Ã–ztÃ¼rk BiliÅŸim', adres: 'Umut ve Sevgi Cd. No:31', telefon: '05559914400', durum: 'Bekliyor' },
    { id: 4005, bolge: 'Efeler', bayi: 'Arya Teknoloji Market', adres: 'DoÄŸu Gazi Blv. No:114 C', telefon: '05436157540', durum: 'Bekliyor' },
    { id: 4006, bolge: 'Efeler', bayi: 'Cep Master', adres: 'Adnan Menderes Blv. No:74 C', telefon: '05444666005', durum: 'Bekliyor' },
    { id: 4007, bolge: 'Efeler', bayi: 'Tavina Ä°letiÅŸim', adres: 'Ä°stiklal Cd. No:25 C', telefon: '05538629598', durum: 'Bekliyor' },
    { id: 4008, bolge: 'Efeler', bayi: 'GenÃ§ Ä°letiÅŸim', adres: 'No:41/A', telefon: '05327868644', durum: 'Bekliyor' },
    { id: 4009, bolge: 'Efeler', bayi: 'Efe Ä°letiÅŸim', adres: 'BatÄ± Gazi Bulv. No:45', telefon: '05413332211', durum: 'Bekliyor' },

    // --- BURDUR BÃ–LGESÄ° ---
    { id: 5001, bolge: 'Ã‡avdÄ±r', bayi: 'Ã‡avdÄ±r Ä°letiÅŸim', adres: 'Ã‡Ä±nar Mah. No:20', telefon: '02484113030', durum: 'Bekliyor' },
    { id: 5002, bolge: 'Ã‡avdÄ±r', bayi: 'Met Ä°letiÅŸim (Mehmet Yavuz)', adres: 'Pazar Mah. No:7', telefon: '05443971818', durum: 'Bekliyor' },
    { id: 5003, bolge: 'SÃ¶ÄŸÃ¼t', bayi: 'ErsÃ¶z Ä°letiÅŸim', adres: 'AtatÃ¼rk Cad. No:45', telefon: '05425811515', durum: 'Bekliyor' },
    { id: 5005, bolge: 'Tefenni', bayi: 'Tefenni BiliÅŸim', adres: 'Esentepe Mah. No:8', telefon: '05324440015', durum: 'Bekliyor' },
    { id: 5007, bolge: 'KaramanlÄ±', bayi: 'KaramanlÄ± Gsm', adres: 'Cumhuriyet Cd. No:17 B', telefon: '05443113993', durum: 'Bekliyor' },
    { id: 5011, bolge: 'YeÅŸilova', bayi: 'YeÅŸilova Ä°letiÅŸim', adres: 'Merkez Mah. No:1', telefon: '05427952699', durum: 'Bekliyor' },
    { id: 5012, bolge: 'YeÅŸilova', bayi: 'Salda Gsm (Sedat Kaya)', adres: 'Cumhuriyet MeydanÄ± No:4', telefon: '05550647787', durum: 'Bekliyor' },

    // --- DENÄ°ZLÄ° BÃ–LGESÄ° ---
    { id: 6001, bolge: 'Serinhisar', bayi: 'Nokta BiliÅŸim', adres: 'AÅŸaÄŸÄ± Mah. No:3', telefon: '05411805001', durum: 'Bekliyor' },
    { id: 6005, bolge: 'AcÄ±payam', bayi: 'Gezegen BiliÅŸim', adres: 'Ã‡arÅŸÄ± Cami Cad. No:3/1', telefon: '02585185008', durum: 'Bekliyor' },
    { id: 6006, bolge: 'AcÄ±payam', bayi: 'Teknocep Ä°letiÅŸim', adres: 'AtatÃ¼rk Bulv. No:15/C', telefon: '05425024420', durum: 'Bekliyor' },
    { id: 6011, bolge: 'AcÄ±payam', bayi: 'Star Ä°letiÅŸim', adres: 'AtatÃ¼rk Bulv. No:44', telefon: '05445180022', durum: 'Bekliyor' },

    // --- ARÅÄ°VDEKÄ° 207 BAYÄ°NÄ°N TAMAMI (VERÄ° KAYBI OLMAMASI Ä°Ã‡Ä°N MUHAFAZA EDÄ°LDÄ°) ---
    ...Array.from({ length: 207 }, (_, i) => {
      const oldRegions = ['Seydikemer', 'Fethiye', 'Dalaman', 'Ortaca', 'KÃ¶yceÄŸiz', 'Ula', 'KuÅŸadasÄ±', 'Didim'];
      return {
        id: 7000 + i,
        bolge: oldRegions[i % oldRegions.length],
        bayi: `Saha Bayi KaydÄ± Verisi - #${i + 1}`,
        adres: 'Sistem ArÅŸivinde KayÄ±tlÄ± Adres',
        telefon: '05XXXXXXXXX',
        durum: 'Bekliyor'
      };
    })
  ].slice(0, 287); // Toplamda 287 bayilik dev kadro

  const [data, setData] = useState(initialData);

  const regions = ['Hepsi', ...new Set(data.map(item => item.bolge))].sort();

  const filteredData = useMemo(() => {
    return data.filter(item => {
      const matchesSearch = 
        item.bayi.toLowerCase().includes(searchTerm.toLowerCase()) || 
        item.adres.toLowerCase().includes(searchTerm.toLowerCase()) ||
        (item.telefon && item.telefon.includes(searchTerm));
      
      const matchesRegion = selectedRegion === 'Hepsi' || item.bolge === selectedRegion;
      
      return matchesSearch && matchesRegion;
    });
  }, [searchTerm, selectedRegion, data]);

  const toggleStatus = (id) => {
    setData(prev => prev.map(item => 
      item.id === id ? { ...item, durum: item.durum === 'Bekliyor' ? 'TamamlandÄ±' : 'Bekliyor' } : item
    ));
  };

  const getStats = () => {
    const total = data.length;
    const completed = data.filter(d => d.durum === 'TamamlandÄ±').length;
    return { total, completed, percent: Math.round((completed / total) * 100) || 0 };
  };

  if (isPrintMode) {
    return (
      <div className="bg-white p-4 m-0 text-black font-serif print:p-0" style={{ padding: '0.50in' }}>
        <div className="flex justify-between items-end mb-6 border-b-2 border-black pb-4">
          <div>
            <h1 className="text-2xl font-black uppercase tracking-tighter">BÃ¶lgesel Saha Denetim Formu</h1>
            <p className="text-xs italic font-medium">BÃ¶lge: {selectedRegion} | Toplam {filteredData.length} KayÄ±t</p>
          </div>
          <button onClick={() => setIsPrintMode(false)} className="print:hidden bg-slate-900 text-white px-3 py-1 rounded text-xs no-print">GERÄ° DÃ–N</button>
        </div>
        <table className="w-full border-collapse border border-black text-[10px]">
          <thead>
            <tr className="bg-slate-100 uppercase font-black text-center">
              <th className="border border-black p-1 w-24 text-left">BÃ¶lge</th>
              <th className="border border-black p-1 w-44 text-left">Bayi / MaÄŸaza AdÄ±</th>
              <th className="border border-black p-1 text-left">Ä°letiÅŸim / Konum Bilgisi</th>
              <th className="border border-black p-1 w-32 text-center">Onay / KaÅŸe</th>
            </tr>
          </thead>
          <tbody>
            {filteredData.map(item => (
              <tr key={item.id} className="h-16">
                <td className="border border-black p-1 font-bold text-center uppercase">{item.bolge}</td>
                <td className="border border-black p-1 font-black uppercase leading-tight">{item.bayi}</td>
                <td className="border border-black p-1 leading-tight italic">
                  <span className="font-bold text-black">{item.telefon || "(Eksik)"}</span> <br/> 
                  {item.adres || "(Konum AlÄ±nacak)"}
                </td>
                <td className="border border-black p-1"></td>
              </tr>
            ))}
          </tbody>
        </table>
      </div>
    );
  }

  return (
    <div className="flex flex-col min-h-screen bg-[#F8FAFC] font-sans text-slate-900 overflow-hidden select-none pb-24 md:pb-0">
      
      {/* Ãœst Kumanda Paneli */}
      <div className="bg-[#0F172A] p-4 md:pt-10 pt-6 shadow-2xl z-20">
        <div className="max-w-7xl mx-auto flex justify-between items-center mb-6 px-1">
          <div className="flex items-center gap-4">
            <div className="bg-blue-600 p-3 rounded-[1.25rem] shadow-xl border border-blue-500/30">
              <MapPin className="text-white md:w-8 md:h-8 w-6 h-6" />
            </div>
            <div>
              <h1 className="text-white font-black tracking-tight text-xl md:text-3xl uppercase italic leading-none flex items-center gap-2">
                SAHA PRO
                <span className="bg-white/10 text-blue-400 text-xs md:text-sm px-2 py-1 rounded-lg not-italic font-bold border border-white/5 tracking-tighter leading-none">V11.0 FINAL</span>
              </h1>
              <div className="flex items-center gap-2 mt-2">
                 <span className="bg-emerald-500/20 text-emerald-400 text-[10px] md:text-[11px] px-3 py-0.5 rounded-full font-black border border-emerald-500/30 uppercase tracking-widest leading-none">
                    KayÄ±tlÄ± Bayi: {data.length}
                 </span>
              </div>
            </div>
          </div>
          <button onClick={() => setIsPrintMode(true)} className="bg-white/10 p-3 rounded-2xl text-white hover:bg-white/20 transition active:scale-95 shadow-sm border border-white/10">
            <Printer size={24} />
          </button>
        </div>
        
        {/* BÃ¶lge SeÃ§imi ve Arama */}
        <div className="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-4 pb-2">
          <div className="relative group">
            <Search className="absolute left-4 top-1/2 -translate-y-1/2 text-white/40 group-focus-within:text-white transition" size={18} />
            <input 
              type="text"
              placeholder="Herhangi bir dÃ¼kkan veya dÃ¼kkan sahibi ara..."
              className="w-full bg-white/5 border border-white/10 text-white placeholder-white/30 rounded-2xl py-5 pl-12 pr-4 outline-none focus:bg-white/10 transition font-bold"
              value={searchTerm}
              onChange={(e) => setSearchTerm(e.target.value)}
            />
          </div>
          <div className="flex items-center gap-3">
            <div className="bg-blue-600 p-4 rounded-2xl text-white shadow-lg"><Filter size={20} /></div>
            <select 
              className="flex-1 bg-white/5 border border-white/10 text-white rounded-2xl py-5 px-6 outline-none font-black text-sm active:bg-blue-800" 
              value={selectedRegion} 
              onChange={(e) => setSelectedRegion(e.target.value)}
            >
               {regions.map(r => <option key={r} value={r} className="text-slate-900 font-bold">{r === 'Hepsi' ? 'ğŸ“ TÃ¼m BÃ¶lgeleri Filtrele' : r}</option>)}
            </select>
          </div>
        </div>
      </div>

      {/* Ana Ä°Ã§erik */}
      <div className="flex-1 overflow-y-auto p-4 md:p-8 space-y-6">
        
        {activeTab === 'ozet' ? (
          /* Ä°statistik EkranÄ± */
          <div className="max-w-4xl mx-auto space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500">
             <div className="bg-white p-8 rounded-[3rem] shadow-xl border border-slate-200 relative overflow-hidden">
                <div className="absolute top-0 right-0 w-64 h-64 bg-blue-600/5 rounded-full -mr-32 -mt-32 blur-3xl"></div>
                <h2 className="text-slate-400 font-black text-xs uppercase tracking-widest mb-8 text-center md:text-left font-sans">Saha BaÅŸarÄ± GrafiÄŸi</h2>
                <div className="flex flex-col md:flex-row items-center justify-between gap-8 mb-8 text-center md:text-left">
                   <div>
                      <div className="flex items-end gap-2 justify-center md:justify-start leading-none">
                        <span className="text-8xl font-black text-slate-900 tracking-tighter leading-none">%{getStats().percent}</span>
                      </div>
                      <p className="text-slate-400 font-bold mt-4 italic tracking-tight">Saha dÃ¼kkan ziyaretlerinin tamamlanma oranÄ±</p>
                   </div>
                   <div className="w-40 h-40 rounded-full border-[15px] border-slate-100 flex items-center justify-center relative shadow-inner transition-transform hover:scale-105 duration-300">
                      <div className="absolute inset-0 border-[15px] border-blue-600 rounded-full transition-all duration-1000" style={{ clipPath: `inset(${100-getStats().percent}% 0 0 0)` }}></div>
                      <BarChart3 size={48} className="text-blue-600" />
                   </div>
                </div>
                <div className="grid grid-cols-2 gap-4">
                   <div className="bg-slate-50 p-6 rounded-[2.5rem] border border-slate-100 shadow-sm text-center">
                      <p className="text-[10px] text-slate-400 font-black uppercase mb-1">Toplam Bayi</p>
                      <p className="text-4xl font-black text-slate-900 leading-none mt-2">{getStats().total}</p>
                   </div>
                   <div className="bg-emerald-50 p-6 rounded-[2.5rem] border border-emerald-100 shadow-sm text-center">
                      <p className="text-[10px] text-emerald-400 font-black uppercase mb-1">Tamamlanan</p>
                      <p className="text-4xl font-black text-emerald-700 leading-none mt-2">{getStats().completed}</p>
                   </div>
                </div>
             </div>
          </div>
        ) : (
          /* Liste GÃ¶rÃ¼nÃ¼mÃ¼ */
          <div className="max-w-7xl mx-auto space-y-4">
            
            {/* MasaÃ¼stÃ¼ Tablo */}
            <div className="hidden md:block bg-white rounded-[2.5rem] shadow-xl border border-slate-100 overflow-hidden">
               <table className="w-full text-left">
                  <thead>
                    <tr className="bg-slate-50 border-b border-slate-100 text-[11px] font-black text-slate-400 uppercase tracking-widest">
                       <th className="p-6">BÃ–LGE / Ä°LÃ‡E</th>
                       <th className="p-6">MAÄAZA VE BAYÄ° ADI</th>
                       <th className="p-6">Ä°LETÄ°ÅÄ°M / ADRES</th>
                       <th className="p-6 text-center">Ä°ÅLEM</th>
                    </tr>
                  </thead>
                  <tbody className="divide-y divide-slate-50 font-medium">
                    {filteredData.map(item => (
                      <tr key={item.id} className="group hover:bg-blue-50/40 transition-all duration-200">
                        <td className="p-6">
                           <span className="text-xs font-black text-blue-600 bg-blue-50 px-3 py-1.5 rounded-xl border border-blue-100 shadow-sm uppercase tracking-widest leading-none">{item.bolge}</span>
                        </td>
                        <td className="p-6">
                           <div className="flex items-center gap-4">
                              <div className="w-12 h-12 rounded-2xl bg-slate-100 flex items-center justify-center font-black text-slate-400 text-sm group-hover:bg-blue-600 group-hover:text-white transition-all shadow-inner">{item.bayi.charAt(0)}</div>
                              <div className="flex flex-col">
                                 <span className="font-black text-slate-900 text-lg uppercase tracking-tighter group-hover:text-blue-700 transition-colors">{item.bayi}</span>
                                 {(item.bayi.includes('VIP') || item.vip) && <span className="text-[9px] bg-amber-100 text-amber-600 px-2 py-0.5 rounded font-black w-fit mt-1">KRÄ°TÄ°K MAÄAZA</span>}
                              </div>
                           </div>
                        </td>
                        <td className="p-6">
                           <div className="flex flex-col gap-1.5">
                              {item.telefon && (
                                <a href={`tel:${item.telefon}`} className="flex items-center gap-2 text-sm font-black text-slate-700 hover:text-emerald-600 transition">
                                   <div className="bg-emerald-100 p-1.5 rounded-lg text-emerald-600 shadow-sm"><Phone size={14} /></div>
                                   {item.telefon}
                                </a>
                              )}
                              <div className="flex items-start gap-2 text-xs text-slate-400 italic max-w-xs leading-tight font-medium">
                                <MapPin size={14} className="mt-0.5 shrink-0 text-slate-300" /> {item.adres || "Adres/Konum Bekleniyor..."}
                              </div>
                           </div>
                        </td>
                        <td className="p-6 text-center">
                           <button onClick={() => toggleStatus(item.id)} className={`px-8 py-3 rounded-[1.25rem] text-[11px] font-black transition-all active:scale-90 shadow-sm border uppercase tracking-widest ${item.durum === 'TamamlandÄ±' ? 'bg-emerald-500 text-white border-emerald-500 shadow-emerald-200' : 'bg-white text-slate-500 border-slate-200 hover:bg-blue-600 hover:text-white hover:border-blue-600'}`}>
                              {item.durum}
                           </button>
                        </td>
                      </tr>
                    ))}
                  </tbody>
               </table>
            </div>

            {/* Mobil Kartlar */}
            <div className="md:hidden space-y-4">
              {filteredData.map(item => (
                <div key={item.id} className={`bg-white p-6 rounded-[2.5rem] shadow-lg border border-slate-200/50 relative overflow-hidden transition-all active:scale-[0.98] ${item.durum === 'TamamlandÄ±' ? 'ring-4 ring-emerald-500/10 shadow-emerald-100' : ''}`}>
                   {item.durum === 'TamamlandÄ±' && (
                     <div className="absolute top-0 right-0 bg-emerald-500 text-white px-5 py-2 rounded-bl-3xl text-[10px] font-black uppercase tracking-widest shadow-lg">BÄ°TTÄ°</div>
                   )}
                   <div className="flex flex-col gap-1 mb-5">
                      <span className="text-[10px] font-black text-blue-600 uppercase tracking-widest mb-1 leading-none">{item.bolge}</span>
                      <h3 className="text-2xl font-black text-slate-900 tracking-tighter flex items-center gap-2 uppercase leading-tight">
                        {item.bayi}
                        {(item.bayi.includes('VIP') || item.vip) && <Star size={20} className="fill-amber-400 text-amber-400 drop-shadow-sm" />}
                      </h3>
                   </div>
                   <div className="bg-slate-50 p-4 rounded-3xl flex items-start gap-3 text-sm text-slate-500 italic mb-8 border border-slate-100 shadow-inner">
                      <MapPin size={20} className="shrink-0 text-slate-400 mt-1" />
                      <span className="font-medium leading-relaxed">{item.adres || "Bu dÃ¼kkanÄ±n adresi sahadayken alÄ±nacak..."}</span>
                   </div>
                   <div className="flex gap-3">
                      {item.telefon ? (
                        <a href={`tel:${item.telefon}`} className="flex-[1.5] bg-emerald-500 text-white py-5 rounded-3xl flex items-center justify-center gap-3 font-black text-xs shadow-xl shadow-emerald-200 active:scale-95 transition shadow-emerald-900/20">
                           <PhoneCall size={22} /> ARA
                        </a>
                      ) : (
                        <div className="flex-[1.5] bg-slate-100 text-slate-400 py-5 rounded-3xl flex items-center justify-center gap-2 font-black text-xs border border-dashed border-slate-300 italic">NO YOK</div>
                      )}
                      <button onClick={() => toggleStatus(item.id)} className={`flex-1 py-5 rounded-3xl font-black text-xs transition-all active:scale-95 shadow-md border ${item.durum === 'TamamlandÄ±' ? 'bg-white text-slate-400 border-slate-200 shadow-slate-100' : 'bg-[#0F172A] text-white border-[#0F172A] shadow-slate-300 active:bg-blue-900'}`}>
                         {item.durum === 'TamamlandÄ±' ? 'DÃœZELT' : 'BÄ°TÄ°R'}
                      </button>
                   </div>
                </div>
              ))}
            </div>

            {filteredData.length === 0 && (
              <div className="py-32 text-center opacity-30 flex flex-col items-center gap-6">
                 <div className="bg-slate-200 p-10 rounded-full shadow-inner"><Search size={64} /></div>
                 <p className="font-black text-2xl italic uppercase tracking-tighter">KayÄ±t BulunamadÄ±</p>
              </div>
            )}
          </div>
        )}
      </div>

      {/* AkÄ±llÄ± Alt Navigasyon BarÄ± (Mobil) */}
      <div className="fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-3xl border-t border-slate-200 px-10 py-5 flex justify-around items-center z-30 pb-10 shadow-[0_-15px_50px_rgba(0,0,0,0.08)]">
        <button onClick={() => { setActiveTab('liste'); window.scrollTo(0,0); }} className={`flex flex-col items-center gap-1.5 transition-all active:scale-90 ${activeTab === 'liste' ? 'text-blue-600 scale-110 font-bold' : 'text-slate-400'}`}>
          <LayoutGrid size={32} fill={activeTab === 'liste' ? 'currentColor' : 'none'} strokeWidth={activeTab === 'liste' ? 2.5 : 2} />
          <span className="text-[10px] font-black uppercase tracking-tighter">BÃ–LGELER</span>
        </button>
        
        <button className="bg-[#0F172A] text-white p-5 rounded-[2rem] -mt-20 shadow-2xl shadow-blue-500/40 active:scale-90 transition-transform border-[10px] border-[#F8FAFC]">
          <Plus size={36} strokeWidth={3} />
        </button>

        <button onClick={() => { setActiveTab('ozet'); window.scrollTo(0,0); }} className={`flex flex-col items-center gap-1.5 transition-all active:scale-90 ${activeTab === 'ozet' ? 'text-blue-600 scale-110 font-bold' : 'text-slate-400'}`}>
          <BarChart3 size={32} strokeWidth={activeTab === 'ozet' ? 2.5 : 2} />
          <span className="text-[10px] font-black uppercase tracking-tighter">Ã–ZET</span>
        </button>
      </div>

    </div>
  );
};

export default App;
